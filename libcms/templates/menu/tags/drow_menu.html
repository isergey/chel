{% load mptt_tags %}
{#<style type="text/css">#}
{#    ul.dropdown ul {#}
{#        visibility: hidden;#}
{#        position: absolute;#}
{#        top: 100%;#}
{#        left: 0;#}
{#        z-index: 598;#}
{#        width: 100%;#}
{#    }#}
{#</style>#}
{#<link href="/static/css/frontend/menu.css" media="all" rel="stylesheet" type="text/css" />#}
{#<link href="http://vremenno.net/examples/css-drop-down-menu/css/dropdown/themes/mtv.com/default.ultimate.css" media="all" rel="stylesheet" type="text/css" />#}

<style type="text/css">
    /*dropdown.css*/
    ul.dropdown,
    ul.dropdown li,
    ul.dropdown ul {
        list-style: none;
        margin: 0;
        padding: 0;
    }

    ul.dropdown {
        position: relative;
        z-index: 597;
        float: left;
    }

    ul.dropdown li {
        float: left;
        min-height: 1px;
        line-height: 1.3em;
        vertical-align: middle;
    }

    ul.dropdown li.hover,
    ul.dropdown li:hover {
        position: relative;
        z-index: 599;
        cursor: default;
    }

    ul.dropdown ul {
        visibility: hidden;
        position: absolute;
        top: 100%;
        left: 0;
        z-index: 598;
        width: 100%;
    }

    ul.dropdown ul li {
        float: none;
    }

    ul.dropdown ul ul {
        top: 1px;
        left: 99%;
    }

    ul.dropdown li:hover > ul {
        visibility: visible;
    }


    /*dropdown.linear.css*/
    ul.dropdown-linear {
        width: 100%;
    }

    ul.dropdown-linear ul li {
        float: left;
    }

    ul.dropdown-linear li.hover,
    ul.dropdown-linear li:hover {
        position: static;
    }

    ul.dropdown-linear ul ul {
        display: none !important;
    }




    /*dropdown.linear.columnar.css*/
    ul.dropdown-columnar ul li {
        position: static;
        width: 150px;
    }

    ul.dropdown-columnar ul ul {
        display: block !important;
        position: static;
        width: auto !important;
    }

    ul.dropdown-columnar ul ul li {
        float: none;
    }

    ul.dropdown-columnar ul ul ul {
        display: none;
    }

    ul.dropdown-columnar li.hover ul,
    ul.dropdown-columnar li:hover ul {
        visibility: visible !important;
    }


    /*default.css*/
    ul.dropdown {
        /*font: bold 35px/normal Arial, Helvetica, sans-serif;*/
        /*letter-spacing: -2px;*/
        /*text-transform: uppercase;*/
    }

    ul.dropdown li {
        padding: 0 10px;
        background-color: transparent;
        color: #000;
    }

    ul.dropdown li.hover,
    ul.dropdown li:hover, ul.dropdown li.dir:hover {
        background-color: rgba(235, 235, 235, 0.7);
        color: #000;
    }

    /*ul.dropdown a:link,*/
    /*ul.dropdown a:visited	{ color: #000; text-decoration: none; }*/
    /*ul.dropdown a:hover		{ color: #000; }*/
    /*ul.dropdown a:active	{ color: #ffa500; }*/

        /* -- level mark -- */

    ul.dropdown ul {
        background-color: #ebebeb;
        font-size: 12px;
        letter-spacing: normal;
    }

    ul.dropdown ul li {

    }

    ul.dropdown li.last ul li {
        float: right;
    }

        /* -- level mark -- */

    ul.dropdown ul ul {
        /*margin-top: 5px;*/
        text-transform: none;
    }

    ul.dropdown ul ul li {
        /*font-weight: normal;*/
    }


        /* -- Supporting class `dir` -- */

    ul.dropdown *.dir {
        /*padding-right: 30px;*/
        /*background-image: url(../../../../images/lwis.celebrity/nav-arrow-down.png);*/
        /*background-position: 100% 50%;*/
        /*background-repeat: no-repeat;*/
    }

    ul.dropdown ul *.dir {
        background-image: none;
    }

    /*default.advanced.css*/
    /* -- Base style extension -- */

    ul.dropdown li a {
        display: block;
        padding: 0 10px;
    }


        /* -- Base style override -- */

    ul.dropdown li {
        padding: 0;
    }


        /* -- Base style reinitiate: post-override activities -- */

    ul.dropdown li.dir {
        padding: 0 30px 0 10px;
    }

    ul.dropdown>li, ul.dropdown>li.dir {
        padding: 10px;
    }


        /* -- Custom styles -- */

    ul.dropdown ul {
        padding: 0 10px;
    }

    ul.dropdown ul a {
        width: 140px;

        /*padding: 3px 5px;*/
        /*background: url(../../../../images/lwis.celebrity/pattern2.png) 0 0 repeat-x;*/
    }
    ul.dropdown a {
        text-decoration: none;
    }

    ul.dropdown ul a:hover {
        color: #d11314;
    }

    ul.dropdown ul ul {
        padding: 0;
        /*margin-left: -5px;*/
    }



ul.dropdown {
    background: #d12f23;
    /*text-align: center;*/
    width: 760px;
}

ul.dropdown>li, ul.dropdown>li.dir {
    background: #d12f23;

}
ul.dropdown>li>a{
    /*display: block;*/
    color: #ffffff;
    text-align: center;

}
ul.dropdown>li:hover>a{
    color: #252525;
}
ul.dropdown>li>ul>li>a{
    color: rgba(41, 42, 36, 0.90);
    font-size: 14px;
    padding: 10px 0 0 0;
    font-weight: bold;
}
ul.dropdown>li>ul>li>ul {
    border-right-style: solid;
    border-right-width:1px;
    border-right-color: rgba(0, 0, 0, 0.16);
    /*background-color: #0099FF;*/
}
</style>
    <ul class="items dropdown dropdown-linear dropdown-columnar">
        {% if nodes %}
            {% recursetree nodes %}
                {% if not node.is_leaf_node %}
                    <li class="dir">
                        <a href="{{ node.item_title.url }}">{{ node }} </a>
                        <ul class="children">
                        {{ children }}
                        </ul>
                    </li>
                {% else %}
                    <li {% if path == node.item_title.url  %} class="active" {% endif %}>
                        <a href="{{ node.item_title.url }}" {% if node.open_in_new %} target="_blank" {% endif %}>{{ node.item_title.title }}</a>
                    </li>
                {% endif %}
            {% endrecursetree %}
        {% endif %}
    </ul>



