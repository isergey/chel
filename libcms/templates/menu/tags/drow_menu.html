{% load mptt_tags %}
<style type="text/css">
    ul#main_menu {
        width: 940px;
        height: 33px;
        background: #D11314;
    }
    ul#main_menu a{
        text-decoration: none;
    }
    ul#main_menu, ul#main_menu ul {
        list-style: none;
        position: relative;
        padding: 0;
        margin: 0;

    }
    ul#main_menu>li {
        float: left;
        /*background: #D11314;*/
        height: 33px;
    }
    ul#main_menu>li>ul {
        display: none;
        width: 938px;
        background-color: #6cfbd3;

    }
    ul#main_menu>li>ul {
        background-color: #FBFBFB;
        background-image: -moz-linear-gradient(top, white, #E7E7E7);
        background-image: -ms-linear-gradient(top, white, #E7E7E7);
        background-image: -webkit-gradient(linear, 0 0, 0 100%, from(white), to(#E7E7E7));
        background-image: -webkit-linear-gradient(top, white, #E7E7E7);
        background-image: -o-linear-gradient(top, white, #E7E7E7);
        background-image: linear-gradient(top, white, #E7E7E7);
        background-repeat: repeat-x;
        filter: progid:DXImageTransform.Microsoft.gradient(startColorstr = '#ffffff', endColorstr = '#f5f5f5', GradientType = 0);
        border-left: 1px solid #DDD;
        border-right: 1px solid #DDD;
        border-bottom: 1px solid #DDD;
        -webkit-border-bottom-left-radius: 3px;
        -moz-border-bottom-left-radius: 3px;
        border-bottom-left-radius: 3px;
        -webkit-border-bottom-right-radius: 3px;
        -moz-border-bottom-right-radius: 3px;
        border-bottom-right-radius: 3px;
        -webkit-box-shadow: inset 0 1px 0 white;
        -moz-box-shadow: inset 0 1px 0 #ffffff;
        box-shadow: inset 0 1px 0 white;
    }

    ul#main_menu>li>ul>li {
        float: left;
        width: 18%;
        border-left: #C7C7C7 solid 1px;
        padding: 0 5px 0 5px;
    }
    ul#main_menu>li>ul>li:first-child {
        border-left: none;
    }
    ul#main_menu>li>a {
        color: white;
        padding: 8px 15px 0 15px;
        text-align: center;
        font-size: 14px;
        display: block;
        height: 25px;
    }

    ul#main_menu>li:hover>ul {
        display: block;
        position: absolute;
        left: 0;

    }
    ul#main_menu>li:hover>a {
        color: #252525;
        background-color: #FBFBFB;
    }
    ul#main_menu > li > ul > li > a {
        color: #292A24;
        font-size: 16px;
        display: block;
        padding: 10px 0;
        font-weight: bold;
    }
    ul#main_menu > li > ul > li > ul > li > a {
        color: #292A24;
        padding-left: 10px;
        background: url("http://www.bl.uk/images/homepage/homepagesprite.png") no-repeat 0 -1158px !important;
    }
    ul#main_menu > li > ul > li > ul > li > a:hover {
        color: #D11314;
    }
</style>

{% if nodes %}
    <ul id="main_menu">
        {% recursetree nodes %}
            {% if not node.is_leaf_node %}
                <li><a href="{{ node.item_title.url }}">{{ node.item_title }} </a>
                    <ul>
                        {{ children }}
                    </ul>
                </li>
            {% else %}
                <li {% if path == node.item_title.url %} class="active" {% endif %}><a href="{{ node.item_title.url }}" {% if node.open_in_new %} target="_blank" {% endif %}>{{ node.item_title.title }}</a></li>
            {% endif %}
        {% endrecursetree %}
    </ul>
{% endif %}


